(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{213:function(t,e,a){t.exports=a.p+"assets/img/HikariCP-benchmarks.4a5b1655.png"},214:function(t,e,a){t.exports=a.p+"assets/img/HikariCP-rename.826616c2.png"},215:function(t,e,a){t.exports=a.p+"assets/img/HikariCP-rename-service.9d32a1f3.png"},216:function(t,e,a){t.exports=a.p+"assets/img/HikariCP-name-change.0e7868f4.png"},273:function(t,e,a){"use strict";a.r(e);var i=a(1),r=Object(i.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"hikaricp-controller-service"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#hikaricp-controller-service","aria-hidden":"true"}},[t._v("#")]),t._v(" HikariCP Controller Service")]),t._v(" "),i("h2",{attrs:{id:"hikaricpcontrollerservice-1"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#hikaricpcontrollerservice-1","aria-hidden":"true"}},[t._v("#")]),t._v(" HikariCPControllerService - 1")]),t._v(" "),i("h3",{attrs:{id:"hikaricp-소개"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#hikaricp-소개","aria-hidden":"true"}},[t._v("#")]),t._v(" HikariCP 소개")]),t._v(" "),i("p",[i("a",{attrs:{href:"https://github.com/brettwooldridge/HikariCP",target:"_blank",rel:"noopener noreferrer"}},[t._v("HikariCP"),i("OutboundLink")],1),t._v("는 spring boot 2버전 부터 tomcat jdbc를 제치고 default dbcp 로 채택되면서 주목을 받았습니다.")]),t._v(" "),i("p",[t._v("HikariCP에서 제공하는 벤치마크 결과를 보면 타 dbcp framework에 비해 아주 좋은 성능을 가지고 있는 것을 확인할 수 있습니다.")]),t._v(" "),i("p",[i("img",{attrs:{src:a(213),alt:"HikariCP-benchmarks"}})]),t._v(" "),i("p",[t._v("좋은 성능을 가지고 있는 것을 확인했으니, 우리가 사용할 DB를 잘 지원하는지 확인해봅니다.")]),t._v(" "),i("p",[t._v("아래 표는 HikariCP에서 DataSource 를 이용해서 커넥션을 맺을 수 있는 Database 목록입니다.")]),t._v(" "),i("p",[t._v("제가 알고 있는 대부분의 db를 지원하고 있고, 회사에서 사용하는 sybase와 개인적으로 사용하는 PostegreSQL까지 지원합니다.")]),t._v(" "),i("p",[t._v("MySQL는 취소선이 그어져 있지만 상관없습니다. HikariCP는 datasource를 이용한 커넥션을 맺는 것을 추천할 뿐 jdbc driver만 있으면 전통적인 jdbc url을 이용해서 connection을 맺을 수도 있습니다.")]),t._v(" "),i("p",[t._v("실제로 아래 표에 표시되어있지 않지만 회사에서 사용하는 SAP HANA DB도 NiFi에서는 HikariCP를 이용하여 커넥션을 맺고 있습니다.")]),t._v(" "),i("table",[i("thead",[i("tr",[i("th",{staticStyle:{"text-align":"left"}},[t._v("Database")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[t._v("Driver")]),t._v(" "),i("th",{staticStyle:{"text-align":"left"}},[i("em",[t._v("DataSource")]),t._v(" class")])])]),t._v(" "),i("tbody",[i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("Apache Derby")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Derby")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.apache.derby.jdbc.ClientDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("Firebird")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Jaybird")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.firebirdsql.ds.FBSimpleDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("H2")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("H2")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.h2.jdbcx.JdbcDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("HSQLDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("HSQLDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.hsqldb.jdbc.JDBCDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("IBM DB2")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("IBM JCC")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.ibm.db2.jcc.DB2SimpleDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("IBM Informix")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("IBM Informix")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.informix.jdbcx.IfxDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("MS SQL Server")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Microsoft")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.microsoft.sqlserver.jdbc.SQLServerDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[i("s",[t._v("MySQL")])]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Connector/J")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[i("s",[t._v("com.mysql.jdbc.jdbc2.optional.MysqlDataSource")])])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("MariaDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("MariaDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.mariadb.jdbc.MariaDbDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("Oracle")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("Oracle")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("oracle.jdbc.pool.OracleDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("OrientDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("OrientDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.orientechnologies.orient.jdbc.OrientDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("PostgreSQL")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("pgjdbc-ng")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.impossibl.postgres.jdbc.PGDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("PostgreSQL")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("PostgreSQL")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.postgresql.ds.PGSimpleDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("SAP MaxDB")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("SAP")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.sap.dbtech.jdbc.DriverSapDB")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("SQLite")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("xerial")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("org.sqlite.SQLiteDataSource")])]),t._v(" "),i("tr",[i("td",{staticStyle:{"text-align":"left"}},[t._v("SyBase")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("jConnect")]),t._v(" "),i("td",{staticStyle:{"text-align":"left"}},[t._v("com.sybase.jdbc4.jdbc.SybDataSource")])])])]),t._v(" "),i("p",[t._v("이제 우리가 사용하는 DB도 기본적으로 지원이 되는 것을 확인했으니 HikariCP를 이용해서 service로 만들어 보겠습니다.")]),t._v(" "),i("h3",{attrs:{id:"프로젝트-이름-변경"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#프로젝트-이름-변경","aria-hidden":"true"}},[t._v("#")]),t._v(" 프로젝트 이름 변경")]),t._v(" "),i("p",[t._v("이제 만들 프로젝트가 정해졌으니 프로젝트 이름을 깔끔하게 변경해줍니다.")]),t._v(" "),i("hr"),t._v(" "),i("p",[t._v("이걸 커스텀 프로세서로 작성해봅시다.")]),t._v(" "),i("h3",{attrs:{id:"프로젝트-이름-변경-2"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#프로젝트-이름-변경-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 프로젝트 이름 변경")]),t._v(" "),i("p",[t._v("이제 만들 프로젝트가 정해졌으니 프로젝트 이름을 변경해줍니다.")]),t._v(" "),i("p",[t._v("archetype으로 프로젝트를 만들때 패키지 명이나 이름을 대충 쓰셧다면 이때 변경해줍니다.")]),t._v(" "),i("p",[t._v("귀찮으시면 제대로 naming을 해서 archetype을 새로 만드셔도됩니다.")]),t._v(" "),i("p",[t._v("특히 java의 package명은 소문자여야 되기 때문에 이런부분을 잘 신경써서 만들어주시면됩니다.")]),t._v(" "),i("p",[i("img",{attrs:{src:a(214),alt:"HikariCP-rename"}})]),t._v(" "),i("p",[t._v("pom.xml 과 폴더명까지 hikaricp로 변경해줍니다.")]),t._v(" "),i("p",[t._v("그리고 StandardMyService의 이름도 HikariCPService로 변경해줍니다.")]),t._v(" "),i("p",[t._v("Service의 이름을 변경하면 아래 파일의 이름도 반드시 변경해야합니다."),i("br"),t._v("\nMETA-INF의 파일을 보고 어떤 class가 main Processor class인지 판단하기 때문에\n반드시 수정해줘야합니다.")]),t._v(" "),i("p",[i("img",{attrs:{src:a(215),alt:"HikariCP-rename-service"}})]),t._v(" "),i("p",[t._v("수정이 끝나고 다시 maven빌드 후 배포해보면 아래처럼 service의 이름이 변경된 것을 확인 할 수 있습니다.\n"),i("img",{attrs:{src:a(216),alt:"HikariCP-name-change"}})]),t._v(" "),i("p",[t._v("여기까지 내용은 아래 github에서 소스를 받으실 수 있습니다.")]),t._v(" "),i("p",[i("a",{attrs:{href:"https://github.com/qnwlqnwlxm/HikariCPService/tree/HikariCPControllerSerivce-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("HikariCPControllerService-1"),i("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);