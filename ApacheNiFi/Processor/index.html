<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NiFi Custom Processor 개발 가이드 | MBIO blog</title>
    <meta name="description" content="mbio 개발 관련 블로그">
    <link rel="icon" href="/blog/favicon.ico">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons">
    
    <link rel="preload" href="/blog/assets/css/0.styles.13ac442d.css" as="style"><link rel="preload" href="/blog/assets/js/app.1a07bfc3.js" as="script"><link rel="preload" href="/blog/assets/js/10.220453dc.js" as="script"><link rel="preload" href="/blog/assets/js/2.0972b181.js" as="script"><link rel="preload" href="/blog/assets/js/14.a13a2a61.js" as="script"><link rel="prefetch" href="/blog/assets/js/11.39c9bd41.js"><link rel="prefetch" href="/blog/assets/js/12.4ff78f91.js"><link rel="prefetch" href="/blog/assets/js/13.ba1f3d3a.js"><link rel="prefetch" href="/blog/assets/js/15.1070da3d.js"><link rel="prefetch" href="/blog/assets/js/16.34eb1707.js"><link rel="prefetch" href="/blog/assets/js/17.96a441f7.js"><link rel="prefetch" href="/blog/assets/js/18.c57fb826.js"><link rel="prefetch" href="/blog/assets/js/19.4f3d3ddc.js"><link rel="prefetch" href="/blog/assets/js/3.9a42e1bf.js"><link rel="prefetch" href="/blog/assets/js/4.b124aac0.js"><link rel="prefetch" href="/blog/assets/js/5.d30f88a5.js"><link rel="prefetch" href="/blog/assets/js/6.b70e9511.js"><link rel="prefetch" href="/blog/assets/js/7.952538da.js"><link rel="prefetch" href="/blog/assets/js/8.e2fef841.js"><link rel="prefetch" href="/blog/assets/js/9.727ec8f9.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.13ac442d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">MBIO blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/intro.html" class="nav-link">Intro</a></div><div class="nav-item"><a href="https://github.com/qnwlqnwlxm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/intro.html" class="nav-link">Intro</a></div><div class="nav-item"><a href="https://github.com/qnwlqnwlxm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/intro.html" class="sidebar-link">intro</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/ApacheNiFi/" class="sidebar-heading clickable router-link-active"><span>Apaceh NiFi</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/blog/Spring/" class="sidebar-link">Spring</a></li><li><a href="/blog/Tech/" class="sidebar-link">Tech</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nifi-custom-processor-개발-가이드"><a href="#nifi-custom-processor-개발-가이드" aria-hidden="true" class="header-anchor">#</a> NiFi Custom Processor 개발 가이드</h1> <h2 id="nifi의-custom-processor를-만드는-이유"><a href="#nifi의-custom-processor를-만드는-이유" aria-hidden="true" class="header-anchor">#</a> NiFi의 Custom Processor를 만드는 이유</h2> <h3 id="이유-1-아쉬움"><a href="#이유-1-아쉬움" aria-hidden="true" class="header-anchor">#</a> 이유 1. 아쉬움</h3> <p>NiFi로 Logic을 작성하다보면 수백여개의 기본 Processor를 제공하지만 공통적인 기능을 컴포넌트화 했기 때문에 비즈니스 환경에 따라 아쉬운 부분이 있습니다.</p> <p>간단한 예를 들면, 내부 API를 호출 할때 특정 토큰 값을 생성해서 전달해야 할수 있습니다. API호출 프로세서에 토큰 생성 로직을 포함하면 API 호출 Processor하나로 처리가 되지만, 아니면 토큰을 만들기 위한 여러 Processor를 생성해야합니다.</p> <h3 id="이유-2-복잡도-증가"><a href="#이유-2-복잡도-증가" aria-hidden="true" class="header-anchor">#</a> 이유 2. 복잡도 증가</h3> <p>기본으로 제공되는 프로세서는 훌륭하지만, 이것만으로 Logic을 작성하다보면 점점 비대해져가는 Dataflow를 볼 수 있습니다. ProcessGroup이라는 모듈화 방법을 제공하지만 flow가 거대해질 수록 debug가 어렵고 FlowFile의 추적이 어려워 집니다. 이러한 단점을 Custom Processor 개발을 통해 해결 할 수 있습니다.</p> <h3 id="이유-3-well-structured-framework"><a href="#이유-3-well-structured-framework" aria-hidden="true" class="header-anchor">#</a> 이유 3. Well Structured Framework</h3> <p>특히, 자바 개발자라면 &quot;아.. 이건 자바로 짜면 바로 되는데&quot; 하는 생각이 드는 순간이 자주 있습니다. NiFi는 JAVA기반으로 작성되었고, JAVA 개발자를 위한 well structured된 framework를 제공합니다.</p> <p>Processor의 생성/시작/실행/종료/삭제 시점에 대해 ThreadPool을 분리하여 제공하여 thread-safe하게만 작성하면, multi-thread 프로세서를 쉽게 만들 수 있습니다.</p> <p>추가로 TDD를 따르는 개발자를 위해 훌륭한 Unit Test 환경을 제공합니다. Unit Test단계에서 NiFi Cluster 환경설정, runtime thread count 설정과 함께 테스트할 수 있습니다. thread-safe하지 않게 작성했다면, 이 단계에서 문제를 발견할 수 있습니다.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>JAVA개발자 외에도 Clojure, ECMAScript, Groovy, lua, python, ruby개발자를 위한 ExecuteScript Processor를 제공합니다. JAVA Framework가 제공하는 만큼 대형 Processor 제작은 어렵지만, 간단한 처리를 스크립트를 이용해서도 할 수 있습니다.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/ApacheNiFi/" class="prev router-link-active">Apache NiFi</a></span> <span class="next"><a href="/blog/ApacheNiFi/Processor/make-project.html">NiFi Custom Processor 프로젝트 생성</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.1a07bfc3.js" defer></script><script src="/blog/assets/js/10.220453dc.js" defer></script><script src="/blog/assets/js/2.0972b181.js" defer></script><script src="/blog/assets/js/14.a13a2a61.js" defer></script>
  </body>
</html>
